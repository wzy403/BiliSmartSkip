# Bilibili 广告跳过助手

[English](README_EN.md) | 中文

一款智能的Chrome浏览器插件，通过分析弹幕内容自动识别B站视频中的嵌入式广告段，并提供自动或手动的跳过功能。

## ✨ 功能特点

- 🎯 **智能识别**: 通过分析弹幕中的时间信息，精准识别广告段落
- 🤖 **自动跳过**: 支持自动跳过广告段，无需手动操作
- 👆 **手动跳过**: 在广告段显示跳过按钮，用户可选择性跳过
- 🔄 **模式切换**: 支持在自动和手动模式间自由切换
- 🚀 **轻量高效**: 无后台常驻，不影响页面性能
- 🎨 **界面友好**: 美观的跳过按钮和设置界面

## 🎭 工作原理

插件通过以下步骤智能识别广告段：

1. **获取弹幕数据**: 从B站API获取当前视频的弹幕XML文件
2. **解析时间信息**: 分析弹幕内容中的时间标记（如"5:30"、"五分三十秒"等）
3. **统计分析**: 对相同时间点的弹幕进行置信度计算
4. **确定广告段**: 根据统计结果确定广告的开始和结束时间
5. **执行跳过**: 根据用户设置的模式执行自动跳过或显示手动跳过按钮

## 📦 安装方法

### 方法一：Chrome商店安装（推荐）
*注：如果已上架到Chrome Web Store*
1. 打开 [Chrome Web Store](https://chrome.google.com/webstore)
2. 搜索 "Bilibili 广告跳过助手"
3. 点击"添加至Chrome"

### 方法二：开发者模式安装
1. 下载本项目的所有文件
2. 打开Chrome浏览器，进入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择包含本插件文件的文件夹

## 📖 使用方法

### 基本使用
1. 安装插件后，打开任意B站视频页面
2. 插件会自动在后台分析弹幕，识别广告段
3. 根据设置的模式：
   - **自动模式**: 检测到广告段时自动跳过
   - **手动模式**: 显示"跳过广告"按钮，点击即可跳过

### 切换模式
1. 点击浏览器工具栏中的插件图标
2. 使用开关切换"手动"和"自动"模式
3. 设置会自动保存并在所有标签页生效

## 🎯 支持的时间格式

插件可以识别弹幕中的多种时间格式：

- **数字格式**: `5:30`、`10:45`
- **中文数字**: `五分三十秒`、`十分钟`
- **混合格式**: `5分30秒`、`10.5分钟`
- **英文格式**: `5min30s`、`10m`

## 📁 项目结构

```
BiliSmartSkip/
├── scr/                    # 源码文件夹
│   ├── content.js          # 内容脚本，主要逻辑实现
│   ├── popup.html          # 插件弹窗界面
│   ├── popup.js            # 弹窗交互逻辑
│   └── icon.png            # 插件图标
├── LICENSE                 # 开源协议
├── manifest.json           # 插件配置文件
├── README.md               # 项目说明文档（中文）
└── README_EN.md            # 项目说明文档（英文）
```

## 🛡️ 权限说明

- `storage`: 保存用户的模式设置
- `scripting`: 注入内容脚本到B站页面
- `activeTab`: 获取当前标签页信息
- `https://www.bilibili.com/*`: 访问B站视频页面
- `https://comment.bilibili.com/*`: 获取弹幕数据

## 🔒 隐私保护

- 本插件不收集任何个人信息
- 所有数据处理均在本地进行
- 仅访问B站公开的弹幕API
- 不会向第三方服务器发送任何数据

## 🐛 问题反馈

如果您在使用过程中遇到问题，请：

1. 检查是否在B站视频页面使用
2. 确认插件已正确安装并启用
3. 刷新页面重试
4. 查看浏览器控制台是否有错误信息

## 🤝 贡献指南

欢迎提交Issue和Pull Request！

### 开发环境设置
1. Fork本项目
2. Clone到本地
3. 在Chrome中加载开发版本
4. 修改代码并测试
5. 提交Pull Request

### 代码规范
- 使用ES6+语法
- 添加必要的注释
- 遵循现有代码风格

## 📄 开源协议

本项目采用 [GUN License](LICENSE) 开源协议。

## 📈 版本历史

### v1.0.0
- 🎉 首次发布
- ✅ 支持自动/手动跳过模式
- ✅ 智能弹幕时间识别
- ✅ 美观的用户界面